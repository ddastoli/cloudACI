from flask import Flask, render_template
from flaskext.mysql import MySQL
import random
import base64

app = Flask(__name__)
app.config['SEND_FILE_MAX_AGE_DEFAULT'] = 3600
app.config['MYSQL_DATABASE_USER']='cisco'
app.config['MYSQL_DATABASE_PASSWORD']='cisco'
app.config['MYSQL_DATABASE_DB']='ciscodb'
app.config['MYSQL_DATABASE_HOST']='3.3.4.200' 

mysql = MySQL()
mysql.init_app(app)

@app.route("/")
def main():
    return render_template('index.html')

@app.route('/showDog')
def showSignUp():
    conn = mysql.connect()
    cursor = conn.cursor()
    idpic = random.randint(1, 11)
    cursor.execute("SELECT img from pics where idpic='" + str(idpic) +"';")
    data = cursor.fetchone()[0]
    if data is None:
     return render_template('showdog.html', dog="data:image/jpg;base64,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")
    else:
     dog64 = base64.b64encode(data)
    return render_template('showdog.html', dog=dog64)

if __name__ == "__main__":
    app.run(host='0.0.0.0', port=80)

